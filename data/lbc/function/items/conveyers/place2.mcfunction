tag @p add placer
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=-45..45] if entity @s[tag=conveyer_1] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_mechanical"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[0.0f,0.0f]}
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=46..135] if entity @s[tag=conveyer_1] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_mechanical"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[90.0f,0.0f]}
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=136..180] if entity @s[tag=conveyer_1] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_mechanical"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[180.0f,0.0f]}
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=-180..-136] if entity @s[tag=conveyer_1] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_mechanical"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[180.0f,0.0f]}
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=-135..-46] if entity @s[tag=conveyer_1] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_mechanical"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[-90.0f,0.0f]}

execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=-45..45] if entity @s[tag=conveyer_2] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_ender"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[0.0f,0.0f]}
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=46..135] if entity @s[tag=conveyer_2] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_ender"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[90.0f,0.0f]}
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=136..180] if entity @s[tag=conveyer_2] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_ender"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[180.0f,0.0f]}
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=-180..-136] if entity @s[tag=conveyer_2] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_ender"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[180.0f,0.0f]}
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=-135..-46] if entity @s[tag=conveyer_2] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_ender"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[-90.0f,0.0f]}

execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=-45..45] if entity @s[tag=conveyer_3] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_air"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[0.0f,0.0f]}
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=46..135] if entity @s[tag=conveyer_3] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_air"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[90.0f,0.0f]}
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=136..180] if entity @s[tag=conveyer_3] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_air"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[180.0f,0.0f]}
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=-180..-136] if entity @s[tag=conveyer_3] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_air"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[180.0f,0.0f]}
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=-135..-46] if entity @s[tag=conveyer_3] summon item_display run data merge entity @s {item:{id:"repeating_command_block",count:1,components:{"item_model":"minecraft:conveyor_air"}},transformation:{scale:[1.005,1.005,1.005]},Tags:["block_overlay","new"],brightness:{block:15,sky:15},Rotation:[-90.0f,0.0f]}

execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=-45..45] run setblock ~ ~ ~ magenta_glazed_terracotta[facing=north] destroy
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=46..135] run setblock ~ ~ ~ magenta_glazed_terracotta[facing=east] destroy
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=136..180] run setblock ~ ~ ~ magenta_glazed_terracotta[facing=south] destroy
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=-180..-136] run setblock ~ ~ ~ magenta_glazed_terracotta[facing=south] destroy
execute unless block ~ ~ ~ #unbreakable if entity @a[tag=placer,limit=1,y_rotation=-135..-46] run setblock ~ ~ ~ magenta_glazed_terracotta[facing=west] destroy
playsound block.metal.place block @a ~ ~ ~ 1 1

tag @a remove placer
tag @s add active